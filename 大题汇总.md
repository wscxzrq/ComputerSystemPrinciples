# 大题汇总

## 简答题

### 指令

指令是一串 0 / 1 序列，用来指示 CPU 完成特定的操作

### 指令系统

从具体问题到机器语言程序的每次转换都属于软件的范围，软硬件之间的桥梁就是指令体系结构，简称指令集架构或指令系统。它是软硬件之间接口的完整定义，ISA 定义了一套计算机可以执行的所有指令的集合，每条指令规定了计算机可以执行的操作，操作数的地址与类型，机器语言就是 ISA 规定的指令序列，因此，计算机执行机器语言的过程就是让其一条一条执行指令。

### 说明进位和溢出在概念和应用上的不同

进位：二进制加法运算时向更高位进位，最高位的进位常用于无符号数的加法时判断是否溢出

溢出：两个有符号数进行加减运算的结果超出了给定的取值范围，常用于带符号数运算

## 计算题

### 定点原码小数第一题：

设某机器子长为 32 位，数值位 31 位，符号位 1 位。定点原码小数表示时，最大正数（十进制）为多少？最小负数（十进制）为多少？

对于定点小数的表示，数值部分（不包括符号位）对应的是一个小于 1 的二进制分数。31 位的二进制小数从小数点开始，依次表示：

$b_1 \times 2^{-1} + b_2 \times 2^{-2} + b_3 \times 2^{-3} + …… b_{31} \times 2^{-31} $

其中$b_1,b_2,b_3 …… b_{31}$是二进制位可以是 0 或 1

**最大正数**：

当符号位为 0 其余 31 位全为 1 时

0.1111……1(31个 1)

转换为二进制

$1 \times 2^{-1} + 1 \times 2^{-2} + 1 \times 2^{-3} + …… 1 \times 2^{-31}$

可以看作是一个等比数列求和，使用等比数列求和公式

$S = 1 - 最小项$

$S = 1 - 2^{-31}$

**最小负数**：

符号位是 1，其余 31 位也是 1

$-(1 \times 2^{-1} + 1 \times 2^{-2} + 1 \times 2^{-3} + …… 1 \times 2^{-31})$

$S = -(1-2^{-31})$

### 汉字字符编码有哪三类，简述各类编码的作用，并分别列举一个实际的作用

汉字的编码分为输入码，内码，输出字形码。输入码用于汉字信息的输入，例如拼音码；内码用于汉字信息在计算机内部的存储和处理，比如区位码；输出字形码用于汉字显示，比如字模点阵码

### 简述计算机中有多字节数据存储时，大端和小端存储方式的差异

大端方式是指数据的最高有效字节存放在最小地址单元，最低有效字节存放在最大地址单元

小端方式是指数据的最高有效字节存放在最大地址单元，最低有效字节存放在最小地址单元

### 在浮点数加减法中对阶的目的是什么？对阶的原则是什么

对阶的目的是使参加运算的两个数的阶码相等，以使它们的尾数可以直接相加减。

对阶的原则是小阶向大阶看齐，即小阶的那个数的尾数右移

### 浮点数加减运算需要经过哪几个主要步骤

对阶、尾数相加减、规格化、尾数舍入和溢出判断

### 过程的调用步骤

1. P 将入口参数放到 Q 能访问的地方
1. P 将返回地址存到特定的地方，然后将控制转移到 Q
1. Q 保存 P 的现场，并为自己的非静态局部变量分配空间
1. 执行 Q 的过程体
1. Q 恢复 P 的现场，并释放局部变量所占空间
1. Q 取出返回地址，将控制转移到 P

### i386 System V ABI对 struct 结构体数据的规则

1. 结构体的对齐方式跟它里面对齐要求**最严格的成员**相同。
1. 每个成员都要按照它自己的对齐要求，放到**满足对齐要求的最小位置**，这可能会导致**内部空隙**。
1. 结构体的总大小必须是**对齐边界的整数倍**，这可能会在结尾部分有**尾部空隙**。

### 可重定位目标文件和可执行目标文件的主要差别

可执行目标文件由链接器将多个可重定位文件组合生成。可重定位文件中的代码和数据地址是相对于起始地址0的，而可执行文件中的地址则按照操作系统的要求，重定位到运行时的虚拟内存中。

与可重定位文件相比，可执行文件的主要区别：

1. ELF头中的 `e_entry` 字段给出程序入口地址，而可重定位文件中这个字段是0。
1. 可执行文件多了 `.init` 节，包含 `_init` 函数，用于程序启动时的初始化。
1. 可执行文件少了 `.rel` 节，因为它的指令和数据已被重定位，不再需要重定位信息。
1. 增加了程序头表，定义了节与虚拟内存段的映射关系。

### 简述全局符号解析的规则

1. `强符号`不能多次定义，否则链接报错
1. 一次`强符号`，多次 `COMMON`符号或`弱符号`，以`强符号`为准
1. 同时出现 `COMMON` 和`弱符号`，以 `COMMON` 符号为准
1. 一个 `COMMON` 符号出现多次，以所占`空间最大`的为准
1. 若是用`-fno-common`选项，则将 `COMMON` 符号当做`强符号`

### CPU 对异常和中断的响应过程可分为三个步骤

保护断电和程序状态、关中断、识别异常和中断事件并转相应处理程序





